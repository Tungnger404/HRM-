<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HR - My Profile</title>
  <style>
    body{font-family:system-ui,Arial;margin:0;background:#f6f7fb;color:#111}
    .wrap{max-width:980px;margin:24px auto;padding:0 16px}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:16px}
    .top{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .title{font-size:22px;font-weight:900}
    .btn{height:38px;padding:0 12px;border:1px solid #e5e7eb;border-radius:10px;background:#fff;cursor:pointer;font-weight:700;display:inline-flex;align-items:center}
    .btn-primary{background:#f5b400;border-color:#f5b400}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
    .field{border:1px solid #eef2f7;border-radius:12px;padding:12px;background:#fafafa}
    .label{font-size:12px;font-weight:900;color:#6b7280;margin-bottom:6px}
    .value{font-size:14px;font-weight:700;color:#111;word-break:break-word}
    .section{margin-top:14px}
    .section h3{margin:0 0 8px 0;font-size:16px}
    .msg{margin:12px 0;padding:10px 12px;border-radius:10px;border:1px solid #fecaca;background:#fef2f2;color:#991b1b}
    .avatar{width:44px;height:44px;border-radius:50%;border:1px solid #e5e7eb;display:flex;align-items:center;justify-content:center;font-weight:900;background:#fff}
    @media(max-width:720px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="top">
      <div style="display:flex;align-items:center;gap:12px;">
        <div class="avatar">HR</div>
        <div>
          <div class="title">My Profile</div>
          <div style="color:#6b7280;font-weight:700;font-size:13px;">
            View all information of your account
          </div>
        </div>
      </div>
      <a class="btn" th:href="@{/dashboard/hr}">‚Üê Back to Home</a>
    </div>

    <div class="msg" th:if="${err != null and err != ''}" th:text="${err}"></div>

    <!-- USER ACCOUNT INFO -->
    <div class="section">
      <h3>Account Information</h3>
      <div class="grid">
        <div class="field">
          <div class="label">User ID</div>
          <div class="value" th:text="${u != null ? u.userId : '-'}"></div>
        </div>
        <div class="field">
          <div class="label">Username</div>
          <div class="value" th:text="${u != null ? u.username : '-'}"></div>
        </div>
        <div class="field">
          <div class="label">Email</div>
          <div class="value" th:text="${u != null ? u.email : '-'}"></div>
        </div>
        <div class="field">
          <div class="label">Role ID</div>
          <div class="value" th:text="${u != null ? u.roleId : '-'}"></div>
        </div>
        <div class="field">
          <div class="label">Active</div>
          <div class="value" th:text="${u != null ? u.isActive : '-'}"></div>
        </div>
        <div class="field">
          <div class="label">Created At</div>
          <div class="value" th:text="${u != null ? u.createdAt : '-'}"></div>
        </div>
      </div>
    </div>

    <!-- EMPLOYEE PROFILE INFO -->
    <div class="section">
      <h3>Employee Information</h3>

      <div class="msg" th:if="${u != null and e == null}">
        This user has no employee record in <b>employees</b> table (findByUserId returned null).
      </div>

      <div class="grid" th:if="${e != null}">
        <div class="field"><div class="label">Emp ID</div><div class="value" th:text="${e.empId}"></div></div>
        <div class="field"><div class="label">Full Name</div><div class="value" th:text="${e.fullName}"></div></div>
        <div class="field"><div class="label">Gender</div><div class="value" th:text="${e.gender}"></div></div>
        <div class="field"><div class="label">DOB</div><div class="value" th:text="${e.dob}"></div></div>
        <div class="field"><div class="label">Phone</div><div class="value" th:text="${e.phone}"></div></div>
        <div class="field"><div class="label">Address</div><div class="value" th:text="${e.address}"></div></div>
        <div class="field"><div class="label">Identity Card</div><div class="value" th:text="${e.identityCard}"></div></div>
        <div class="field"><div class="label">Tax Code</div><div class="value" th:text="${e.taxCode}"></div></div>
        <div class="field"><div class="label">Department ID</div><div class="value" th:text="${e.deptId}"></div></div>
        <div class="field"><div class="label">Job ID</div><div class="value" th:text="${e.jobId}"></div></div>
        <div class="field"><div class="label">Direct Manager ID</div><div class="value" th:text="${e.directManagerId}"></div></div>
        <div class="field"><div class="label">Status</div><div class="value" th:text="${e.status}"></div></div>
        <div class="field"><div class="label">Join Date</div><div class="value" th:text="${e.joinDate}"></div></div>
      </div>
    </div>

  </div>
</div>
</body>
</html>
